"use strict";(self.webpackChunkworldtool_docs=self.webpackChunkworldtool_docs||[]).push([[9891],{5034:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>r,toc:()=>p});var n=t(7462),o=(t(7294),t(3905));const l={sidebar_position:7},i="Shapes",r={unversionedId:"making-a-plugin/shapes",id:"making-a-plugin/shapes",title:"Shapes",description:"Shapes are generated with specified properties using the Shape Generation Tool",source:"@site/docs/making-a-plugin/shapes.md",sourceDirName:"making-a-plugin",slug:"/making-a-plugin/shapes",permalink:"/worldtool-docs/docs/making-a-plugin/shapes",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Brushes",permalink:"/worldtool-docs/docs/making-a-plugin/brushes"},next:{title:"Tools",permalink:"/worldtool-docs/docs/making-a-plugin/tools"}},s={},p=[{value:"Making a Shape",id:"making-a-shape",level:2},{value:"Extra: Making a Preview",id:"extra-making-a-preview",level:2}],m={toc:p};function d(e){let{components:a,...t}=e;return(0,o.kt)("wrapper",(0,n.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"shapes"},"Shapes"),(0,o.kt)("p",null,"Shapes are generated with specified properties using the Shape Generation Tool"),(0,o.kt)("h2",{id:"making-a-shape"},"Making a Shape"),(0,o.kt)("p",null,"Step-by step instructions on how to make a new shape for the Shape Generation Tool."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Make a new item modifier for selecting your shape."),(0,o.kt)("p",{parentName:"li"},"Example of a shape item modifier:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[\n    {\n        "function": "minecraft:set_nbt",\n        "tag": "{WorldTool:{Shape:\\"myplugin:example\\"}}"\n    },\n    {\n        "function": "minecraft:set_lore",\n        "lore": [\n            {"nbt":"Translation.\\"myplugin.info.selected_shape.example\\"","storage": "worldtool:storage","color": "yellow","italic": false},\n            {"nbt":"Translation.\\"lore.selected_block\\"","storage": "worldtool:storage","color": "light_purple","italic": false},\n            {"nbt":"SelectedItem.tag.WorldTool.PrimaryBlock.State.Name", "entity": "@s","color": "aqua","italic": false},\n            "",\n            {"nbt":"Translation.\\"lore.shape_tool.normal.1\\"","storage": "worldtool:storage","interpret": true,"italic": false},\n            {"nbt":"Translation.\\"lore.shape_tool.normal.2\\"","storage": "worldtool:storage","interpret": true,"italic": false},\n            {"nbt":"Translation.\\"lore.shape_tool.normal.3\\"","storage": "worldtool:storage","interpret": true,"italic": false}\n        ],\n        "entity": "this",\n        "replace": true\n    }\n]\n')),(0,o.kt)("p",{parentName:"li"},"The parts you need to pay attention to are:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"Shape")," ID."),(0,o.kt)("li",{parentName:"ul"},"The first ",(0,o.kt)("a",{parentName:"li",href:"translations#adding-translations-to-existing-languages"},"translation")," in the ",(0,o.kt)("inlineCode",{parentName:"li"},'"lore"')," list."))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Make a new function for running when your shape is selected."),(0,o.kt)("p",{parentName:"li"},"Example of a shape selection function:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-mcfunction"},"# Called by worldtool:ui_shapes/select_shape/menu\n# Example of a shape selection function\n\n# This is used to make sure the user is holding the Shape Generation Tool\nfunction worldtool:ui_shapes/check_tool\n\n# Call your item modifier\nitem modify entity @s weapon.mainhand myplugin:example_shape\n\n# Go back to the main Shape Generation Tool menu\nfunction worldtool:ui_shapes/menu\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Make a new predicate for checking when your shape is selected."),(0,o.kt)("p",{parentName:"li"},"Example of a shape predicate:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "condition": "minecraft:entity_properties",\n\n    "entity": "this",\n    "predicate": {\n        "equipment": {\n            "mainhand": {\n                "nbt": "{WorldTool:{Shape:\\"myplugin:example\\"}}"\n            }\n        }\n    }\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Use the ",(0,o.kt)("a",{parentName:"p",href:"hooks#ui_shapesshape_list"},(0,o.kt)("inlineCode",{parentName:"a"},"ui_shapes/shape_list")," hook")," to display a button for your shape, which when clicked calls the function you made for it. Use the predicate you made to display a grayed out button when the shape is already selected.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Use the ",(0,o.kt)("a",{parentName:"p",href:"hooks#ui_shapesmenuadd_tags"},(0,o.kt)("inlineCode",{parentName:"a"},"ui_shapes/menu/add_tags")," hook")," to remove or add the settings you want to have available in the menu. The full list of tags is:"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.diameter")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.precision")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.orientation")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.degrees")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.length")," (Default = unavailable)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.y_rotation")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.x_rotation")," (Default = available, depends on orientation)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.z_rotation")," (Default = available, depends on orientation)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.hollow")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.keep")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.continuous")," (Default = available)",(0,o.kt)("br",null),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"wt.setting.secondary_degrees")," (Default = unavailable)",(0,o.kt)("br",null))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Make another function, to set up your shape process."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-mcfunction"},'# Example of a process setup function\n\n# Tell the function that sets up all the processes that everything is alright\nscoreboard players set #success worldtool 1\n\ndata modify storage worldtool:storage Processes prepend value {DisplayName:\'{"nbt":"Translation.\\\\"myplugin.process.brush.example\\\\"","storage":"worldtool:storage"}\',ID:"myplugin:example",Tags:["myplugin.process.example","wt.no_message"]}\n# If you have set up blocks per tick data for this process\ndata modify storage worldtool:storage Processes[0].BlocksPerTick set from storage worldtool:storage BlocksPerTick.Processes[{ID:"worldtool:paint"}].Value\n\nfunction worldtool:process_start/brush/start/normal/setup_process/set_process_values\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Use the ",(0,o.kt)("a",{parentName:"p",href:"hooks#process_startshapesprocesses"},(0,o.kt)("inlineCode",{parentName:"a"},"process_start/shapes/processes")," hook")," to check if your shape is selected with its predicate, and if so, run your process setup function.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"processes#setting-up-files"},"Follow these steps to make your process work"),", and you're all set!"))),(0,o.kt)("h2",{id:"extra-making-a-preview"},"Extra: Making a Preview"),(0,o.kt)("p",null,"Instructions on how to make a preview with particles for your shape."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Use the ",(0,o.kt)("a",{parentName:"p",href:"hooks#ui_shapesadd_preview_tags"},(0,o.kt)("inlineCode",{parentName:"a"},"ui_shapes/add_preview_tags")," hook")," to add the preview tags you need. For example:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-mcfunction",metastring:"word-wrap","word-wrap":!0},'# Example preview tags to add\n\nexecute if data storage worldtool:storage Temp.ShapeTool{Shape:"myplugin:example",ShapeSettings:{Orientation:"up"}} run tag @s add myplugin.shape.example.up\nexecute if data storage worldtool:storage Temp.ShapeTool{Shape:"myplugin:example",ShapeSettings:{Orientation:"down"}} run tag @s add myplugin.shape.example.down\nexecute if data storage worldtool:storage Temp.ShapeTool{Shape:"myplugin:example"} unless data storage worldtool:storage Temp.ShapeTool.ShapeSettings{Orientation:"up"} unless data storage worldtool:storage Temp.ShapeTool.ShapeSettings{Orientation:"down"} run tag @s add myplugin.shape.example.horizontal\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Use the ",(0,o.kt)("a",{parentName:"p",href:"hooks#ui_shapesremove_preview_tags"},(0,o.kt)("inlineCode",{parentName:"a"},"ui_shapes/remove_preview_tags")," hook")," to remove all possible tags you added in the previous step.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Use the ",(0,o.kt)("a",{parentName:"p",href:"hooks#particlesshape_previews"},(0,o.kt)("inlineCode",{parentName:"a"},"particles/shape_previews")," hook")," to check for your tag(s) and run your preview functions based off that."),(0,o.kt)("p",{parentName:"li"},"You can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"particle minecraft:dust 0.671 0.161 0.875 1.5 ~ ~ ~ 0 .3 0 2 3 force @a[tag=wt.shape_preview_temp]")," command to display particles."),(0,o.kt)("p",{parentName:"li"},"There are also useful functions to aid you with displaying a shape, such as ",(0,o.kt)("inlineCode",{parentName:"p"},"worldtool:particles/shape_preview/circle_horizontal/line/load"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"worldtool:particles/shape_preview/circle_horizontal/rotation/load"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"worldtool:particles/shape_preview/circle_vertical/load"),"."),(0,o.kt)("p",{parentName:"li"},"The shape settings are available through ",(0,o.kt)("inlineCode",{parentName:"p"},"@s"),"'s ",(0,o.kt)("inlineCode",{parentName:"p"},"data.WorldTool.ShapeSettings")," data."))))}d.isMDXComponent=!0}}]);